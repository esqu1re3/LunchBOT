# üçΩÔ∏è LunchBOT ‚Äî —É—á—ë—Ç –¥–æ–ª–≥–æ–≤ –∑–∞ –æ–±–µ–¥ –≤ Telegram

**LunchBOT** ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —É—á—ë—Ç–∞ –¥–æ–ª–≥–æ–≤ –∑–∞ –æ–±–µ–¥ –≤ –∫–æ–º–∞–Ω–¥–µ. –í–∫–ª—é—á–∞–µ—Ç Telegram-–±–æ—Ç–∞ –∏ —É–¥–æ–±–Ω—É—é –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –Ω–∞ Streamlit.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É
```bash
git clone <repository-url>
cd LunchBOT
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate   # Windows
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
pip install -r requirements.txt
```

### 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `example_of_.env` –≤ `.env`:
  ```bash
  cp example_of_.env .env
  ```
- –û—Ç–∫—Ä–æ–π—Ç–µ `.env` –∏ —É–∫–∞–∂–∏—Ç–µ:
  - `BOT_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞ (–ø–æ–ª—É—á–∏—Ç—å —É [@BotFather](https://t.me/BotFather))
  - `ADMIN_CHAT_ID` ‚Äî –≤–∞—à Telegram ID (—É–∑–Ω–∞—Ç—å —É [@userinfobot](https://t.me/userinfobot))
  - `ADMIN_PANEL_PASSWORD` ‚Äî –ø–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (Streamlit)

### 5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
```bash
python3 run_all.py
```
- –ë–æ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∏ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ Telegram.
- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–∞ http://localhost:8501

---

## üê≥ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

> **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ –∏ –¥–µ–ø–ª–æ—è**

1. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω [Docker](https://www.docker.com/) –∏ [Docker Compose](https://docs.docker.com/compose/).**

2. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   ```bash
   cp example_of_.env .env
   # –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –∏ —É–∫–∞–∂–∏—Ç–µ BOT_TOKEN –∏ ADMIN_CHAT_ID
   ```

3. **–ü–æ—Å—Ç—Ä–æ–π—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**
   ```bash
   docker-compose up --build
   # –∏–ª–∏ –≤ —Ñ–æ–Ω–µ:
   docker-compose up -d --build
   ```

4. **–û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:**
   - http://localhost:8501

5. **–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**
   ```bash
   docker-compose down
   ```

- –í—Å–µ –¥–∞–Ω–Ω—ã–µ (–±–∞–∑–∞, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏) —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏–ª–∏ –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ (–µ—Å–ª–∏ –Ω–µ –º–µ–Ω—è–ª–∏ volume).
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –±–µ—Ä—É—Ç—Å—è –∏–∑ `.env`.
- –ë–æ—Ç –∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Ä–∞–±–æ—Ç–∞—é—Ç –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

---

## üßê –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

- **Telegram-–±–æ—Ç**: –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—á–∞—Å—Ç–Ω–∏–∫–∞–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ –ø–æ–≥–∞—à–∞—Ç—å –¥–æ–ª–≥–∏, –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —á–µ–∫–∏, –ø–æ–ª—É—á–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è.
- **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (Streamlit)**: –¥–∞—ë—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –¥–æ–ª–≥–æ–≤, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞.
- **SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ —Ñ–∞–π–ª–µ `lunchbot.db` (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏).
- **üîÑ –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å**: —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—â–∏—â–µ–Ω–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π ‚Äî –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ —Å–æ–∑–¥–∞—é—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏–µ –¥–æ–ª–≥–∏, –ø–ª–∞—Ç–µ–∂–∏ –∏–ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
1. **–°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–ª–≥–∞**: –ö—Ä–µ–¥–∏—Ç–æ—Ä —á–µ—Ä–µ–∑ –±–æ—Ç–∞ —Å–æ–∑–¥–∞—ë—Ç –¥–æ–ª–≥, –≤—ã–±–∏—Ä–∞–µ—Ç –¥–æ–ª–∂–Ω–∏–∫–∞, —Å—É–º–º—É, –æ–ø–∏—Å–∞–Ω–∏–µ, –ø—Ä–∏–∫–ª–∞–¥—ã–≤–∞–µ—Ç —á–µ–∫.
2. **–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è**: –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç –¥–æ–ª–∂–Ω–∏–∫—É –æ –¥–æ–ª–≥–µ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é.
3. **–ü–æ–≥–∞—à–µ–Ω–∏–µ**: –î–æ–ª–∂–Ω–∏–∫ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —á–µ–∫, –∫—Ä–µ–¥–∏—Ç–æ—Ä –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∏–ª–∏ –æ—Å–ø–∞—Ä–∏–≤–∞–µ—Ç –æ–ø–ª–∞—Ç—É.
4. **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å**: –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤–∏–¥–µ—Ç—å –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é, —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π.

### üí≥ –£–¥–æ–±–Ω–∞—è –æ–ø–ª–∞—Ç–∞ –¥–æ–ª–≥–æ–≤
- **–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –æ–ø–ª–∞—Ç–∞**: –ö–∞–∂–¥—ã–π –¥–æ–ª–≥ –º–æ–∂–Ω–æ –æ–ø–ª–∞—Ç–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ, –≤—ã–±—Ä–∞–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞
- **–ú–∞—Å—Å–æ–≤–∞—è –æ–ø–ª–∞—Ç–∞**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–ø–ª–∞—Ç–∏—Ç—å –≤—Å–µ –¥–æ–ª–≥–∏ –æ–¥–Ω–∏–º —á–µ–∫–æ–º —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤—Å–µ–º –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞–º
- **Inline-–∫–Ω–æ–ø–∫–∏**: –£–¥–æ–±–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏ –≤ Telegram –±–µ–∑ –≤–≤–æ–¥–∞ –∫–æ–º–∞–Ω–¥
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –ö—Ä–µ–¥–∏—Ç–æ—Ä—ã –ø–æ–ª—É—á–∞—é—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å —Ñ–æ—Ç–æ —á–µ–∫–∞

### üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- **–î–æ–ª–≥–∏**: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –¥–æ–ª–≥–æ–≤ –≤ —Ç–µ—á–µ–Ω–∏–µ 5-–º–∏–Ω—É—Ç–Ω–æ–≥–æ –æ–∫–Ω–∞
- **–ü–ª–∞—Ç–µ–∂–∏**: –û–¥–∏–Ω –∞–∫—Ç–∏–≤–Ω—ã–π –ø–ª–∞—Ç–µ–∂ –Ω–∞ –¥–æ–ª–≥ –æ—Ç –¥–æ–ª–∂–Ω–∏–∫–∞
- **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è**: –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- **Callback-–∑–∞–ø—Ä–æ—Å—ã**: –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –Ω–∞–∂–∞—Ç–∏–π –∫–Ω–æ–ø–æ–∫

*–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Å–∏—Å—Ç–µ–º–µ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ —á–∏—Ç–∞–π—Ç–µ –≤ [IDEMPOTENCY.md](IDEMPOTENCY.md)*

---

## ÔøΩÔøΩ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```